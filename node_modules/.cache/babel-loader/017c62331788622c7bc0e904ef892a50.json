{"ast":null,"code":"import axios from 'axios';\n\nconst reqWithToken = (endpoint, access_token, cancelSource) => {\n  const request = async () => {\n    const cancelToken = cancelSource.token;\n    const options = {\n      url: endpoint,\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + access_token\n      },\n      cancelToken\n    };\n    let result;\n\n    try {\n      result = await axios(options);\n    } catch (err) {\n      if (axios.isCancel(err)) return;\n      return err;\n    }\n\n    return result;\n  };\n\n  return request;\n};\n\nexport default reqWithToken;","map":{"version":3,"sources":["/home/thinesh/project/spotify-clone-client/src/utilities/reqWithToken.js"],"names":["axios","reqWithToken","endpoint","access_token","cancelSource","request","cancelToken","token","options","url","method","headers","result","err","isCancel"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAY,GAAG,CAACC,QAAD,EAAWC,YAAX,EAAyBC,YAAzB,KAAyC;AAC1D,QAAMC,OAAO,GAAG,YAAY;AACxB,UAAMC,WAAW,GAAGF,YAAY,CAACG,KAAjC;AACA,UAAMC,OAAO,GAAG;AACZC,MAAAA,GAAG,EAAEP,QADO;AAEZQ,MAAAA,MAAM,EAAE,KAFI;AAGZC,MAAAA,OAAO,EAAE;AAAE,yBAAiB,YAAYR;AAA/B,OAHG;AAIZG,MAAAA;AAJY,KAAhB;AAMA,QAAIM,MAAJ;;AACA,QAAG;AACCA,MAAAA,MAAM,GAAG,MAAMZ,KAAK,CAACQ,OAAD,CAApB;AACH,KAFD,CAEC,OAAOK,GAAP,EAAW;AACR,UAAIb,KAAK,CAACc,QAAN,CAAeD,GAAf,CAAJ,EAAyB;AACzB,aAAOA,GAAP;AACH;;AACD,WAAOD,MAAP;AACH,GAhBD;;AAkBA,SAAOP,OAAP;AACH,CApBD;;AAsBA,eAAeJ,YAAf","sourcesContent":["import axios from 'axios'\n\nconst reqWithToken = (endpoint, access_token, cancelSource) =>{\n    const request = async () => {\n        const cancelToken = cancelSource.token\n        const options = {\n            url: endpoint,\n            method: 'GET',\n            headers: { 'Authorization': 'Bearer ' + access_token },\n            cancelToken\n        };\n        let result\n        try{\n            result = await axios(options)\n        }catch (err){\n            if (axios.isCancel(err)) return\n            return err\n        }\n        return result \n    }\n    \n    return request\n}\n\nexport default reqWithToken"]},"metadata":{},"sourceType":"module"}